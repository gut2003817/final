<!DOCTYPE html>
<html>
<head>
    <title>簡易記帳</title>
</head>
<body>
    <h1>簡易記帳</h1>
    
    <form method="POST" action="/expense">
        <label for="category">分類:</label>
        <select id="category" name="category">
            <option value="食">食</option>
            <option value="衣">衣</option>
            <option value="住">住</option>
            <option value="行">行</option>
            <option value="育">育</option>
            <option value="樂">樂</option>
        </select>
        
        <br><br>
        
        <label for="note">備註:</label>
        <input type="text" id="note" name="note">
        
        <br><br>
        
        <label for="amount">金額:</label>
        <input type="number" id="amount" name="amount">
        
        <br><br>

        <label for="record_type">類型:</label>
        <select id="record_type" name="record_type">
            <option value="expense">支出</option>
            <option value="income">收入</option>
        </select>
        
        <br><br>
        
        <input type="submit" value="新增">
    </form>
    
    <br>
    
    <h2>月總額: {{ total_amount }}</h2>
    <h2>損益: {{ profit_loss }}</h2>
    
    <h3>記帳紀錄:</h3>
    <ul>
        {% for expense in expenses %}
            {% if expense[3] >= 0 %}
                <li>種類：{{ expense[2] }}&nbsp;&nbsp;&nbsp;&nbsp;金額：{{ expense[3] }}&nbsp;&nbsp;&nbsp;&nbsp;備註：{{ expense[4] }}&nbsp;&nbsp;&nbsp;&nbsp;（收入）</li>
            {% else %}
                <li>種類：{{ expense[2] }}&nbsp;&nbsp;&nbsp;&nbsp;金額：{{ expense[3]|abs }}&nbsp;&nbsp;&nbsp;&nbsp;備註：{{ expense[4] }}&nbsp;&nbsp;&nbsp;&nbsp;（支出）</li>
            {% endif %}
        {% endfor %}
    </ul>
</body>
</html>

